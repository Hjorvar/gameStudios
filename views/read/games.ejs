<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <% let rootpath = "../"; %>
  <%- include(rootpath + 'include/stylesheets') %>
</head>
<body>
  <%- include(rootpath + 'include/navbar') %>
  <div id="flexContainer">
    <table class="customTable sandblasted">
      <thead class="sticky">
        <tr>
          <th>Name</th>
          <th>Studio</th>
          <th>Genre</th>
          <% if(username != 'none') { %>
          <th class="whiteout cur_default">Update</th>
          <th class="whiteout cur_default">Delete</th>
          <% } %>

        </tr>
      </thead>
      <% for (let i = 0; i < games.length; i += 1){ %>
        <tr onclick="window.location='/game?idGame=<%= games[i].id %>';">
          <td><%= games[i].name %></td>
          <td><%= games[i].studioName %> </td>
          <td><%= games[i].genresName %> </td>
        <% if(username != 'none') { %>
        <td class="buttonContainer">
          <form action="/updateGame" method="GET"><button type="submit" class="customBtn">Update</button>
          <input type="hidden" name="idGame" id="idGame" value="<%= games[i].id %>"></form>
        </td>
        <td class="buttonContainer">
          <form action="/deleteGame" method="POST"><button type="submit" class="customBtn">Delete</button>
            <input type="hidden" name="idGame" id="idGame" value="<%= games[i].id %>"></form>
        </td>
        <% } %>
      </tr>
      <% } %> 
    </table>
  </div>
  <div id="filterContainer">
    <p id="filterHeader">Filters</p>
    <form action="?" method="GET">
      <% for (let i = 0; i < genres.length; i += 1){ %>
        <input type="checkbox" id="<%= genres[i].id %>" name="genres" value="<%= genres[i].id %>">
        <label for="<%= genres[i].id %>"> <%= genres[i].name %></label><br>
        <% } %>
        <span id="sliderValue"></span><br>
        <input type="range" min="2015" max="2030" value="2015" id="sliderMin" name="sliderMin">
        <input type="range" min="2015" max="2030" value="2030" id="sliderMax" name="sliderMax">
        <button type="submit" class="customBtn">Search</button>
    </form>
  </div>
  <script src="js/games.js"></script>
</body>
</html>