<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Documengit t</title>
  <% let rootpath = "../"; %>
  <%- include(rootpath + 'include/stylesheets') %>
</head>
<body>
  <%- include(rootpath + 'include/navbar') %>
  <div id="flexContainer">
    <table class="customTable">
      <thead class="sticky"><tr><th>Name</th><th>Studio</th><th>Genre</th><th class="whiteout cur_default">Update</th><th class="whiteout cur_default">Delete</th></tr></thead>
      <% for (let i = 0; i < games.length; i += 1){ %>
        <tr onclick="window.location='/game?idGame=<%= games[i].id %>';">
          <td><%= games[i].name %></td>
          <td><%= games[i].studioName %> </td>
          <td><%= games[i].genresName %> </td>
        <td>
          <form action="/updateGame" method="GET"><button type="submit">Update</button>
          <input type="hidden" name="idGame" id="idGame" value="<%= games[i].id %>"></form>
        </td>
        <td>
          <form action="/deleteGame" method="POST"><button type="submit">Delete</button>
            <input type="hidden" name="idGame" id="idGame" value="<%= games[i].id %>"></form>
        </td>
      </tr>
      <% } %> 
    </table>
    <div id="filterContainer">
      <p id="filterHeader">Filters</p>
      <form action="?" method="GET">
        <% for (let i = 0; i < genres.length; i += 1){ %>
          <input type="checkbox" id="<%= genres[i].id %>" name="genres" value="<%= genres[i].id %>">
          <label for="<%= genres[i].id %>"> <%= genres[i].name %></label><br>
          <% } %>
          <input type="range" min="2015" max="2030" value="2015" id="slider" name="slider">
          <span id="sliderValue"></span>
          <button type="submit" class="customBtn">Search</button>
      </form>
    </div>
  </div>
  <script>
    const slider = document.getElementById('slider');
    const sliderValue = document.getElementById('sliderValue');
    sliderValue.innerHTML = "All years";
    slider.oninput = () => {
      if(slider.value == 2015){
        sliderValue.innerHTML = "All years";
      }else{
        sliderValue.innerHTML = slider.value;
      }
    }
  </script>
</body>
</html>